#!/usr/bin/env bash
set -euxo pipefail

function focus_display() {
  dell_qhd=$(swaymsg -t get_outputs | jq -r '.[] | select(.model == "DELL P2421DC") | .name')
  swaymsg focus output "$dell_qhd"
}

function focused_output() {
  swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name'
}

function focused_window() {
  swaymsg -t get_tree \
    | jq -r '.. | select(.focused?) | .rect | "\(.x),\(.y) \(.width)x\(.height)"'
}

function main() {
  local sub_command=${1-}

  case "$sub_command" in
    focus-display) focus_display ;;
    focused-output) focused_output ;;
    focused-window) focused_window ;;
    *) ;;
  esac
}

main "$@"
