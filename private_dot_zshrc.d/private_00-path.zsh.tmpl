# vim:filetype=zsh
{{- if eq .chezmoi.os "darwin" }}

# Rewrite $PATH
PATH="/usr/local/bin:/usr/local/sbin:$(getconf PATH)"

# Homebrew
PATH="/opt/homebrew/bin:/opt/homebrew/sbin:$PATH"

# Replace macOS utilities with GNU ones
PATH="$(/opt/homebrew/bin/brew --prefix coreutils)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix diffutils)/bin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix findutils)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix gnu-getopt)/bin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix gnu-indent)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix gnu-sed)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix gnu-tar)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix grep)/libexec/gnubin:$PATH"
PATH="$(/opt/homebrew/bin/brew --prefix llvm)/bin:$PATH"

# Nix
PATH="$HOME/.nix-profile/bin:/nix/var/nix/profiles/default/bin:$PATH"

{{- end }}

export PATH="$HOME/.local/bin:$PATH"
