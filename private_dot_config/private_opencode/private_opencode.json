{
  "$schema": "https://opencode.ai/config.json",
  "enabled_providers": ["anthropic", "google-vertex"],
  "provider": {
    "google-vertex": {
      "models": {
        "gemini-3-pro-preview": {
          "options": {
            "thinking_level": "high"
          }
        }
      }
    }
  },
  "model": "anthropic/claude-opus-4-5",
  "theme": "system",
  "autoupdate": true,
  "compaction": {
    "auto": true,
    "prune": true
  },
  "keybinds": {
    "leader": "\\",
    "app_exit": "none",
    "messages_toggle_conceal": "none",
    "session_list": "none",
    "session_parent": "<leader>u",
    "session_child_cycle": "<leader>l",
    "session_child_cycle_reverse": "<leader>h",
    "messages_line_up": "ctrl+y",
    "messages_line_down": "ctrl+e",
    "messages_page_up": "ctrl+u",
    "messages_page_down": "ctrl+d",
    "messages_first": "ctrl+g",
    "messages_last": "ctrl+alt+g"
  },
  "tui": {
    "scroll_speed": 3,
    "scroll_acceleration": {
      "enabled": true
    },
    "diff_style": "auto"
  },
  "permission": {
    "*": "ask",

    "edit": "allow",
    "glob": "allow",
    "grep": "allow",
    "lsp": "allow",
    "question": "allow",
    "read": "allow",
    "skill": "allow",
    "task": "allow",
    "todoread": "allow",
    "todowrite": "allow",
    "webfetch": "allow",
    "websearch": "allow",

    "bash": {
      "*": "ask",

      "git branch*": "allow",
      "git diff*": "allow",
      "git log*": "allow",
      "git remote*": "allow",
      "git show*": "allow",
      "git status*": "allow",
      "git worktree list*": "allow",

      "gh api *": "allow",
      "gh pr list*": "allow",
      "gh pr view*": "allow",
      "gh repo view*": "allow",

      "uv run mypy *": "allow",
      "uv run pytest *": "allow",
      "uv run ruff *": "allow",

      "pnpm *": "allow",
      "npm *": "allow",

      "notion_notion-*": "allow",
      "notion_notion-create-pages": "deny",
      "notion_notion-update-page": "deny",
      "notion_notion-move-pages": "deny",
      "notion_notion-duplicate-page": "deny",
      "notion_notion-create-database": "deny",
      "notion_notion-update-database": "deny",
      "notion_notion-create-comment": "deny"
    }
  },
  "agent": {
    "general": {
      "mode": "subagent",
      "model": "anthropic/claude-sonnet-4-5",
      "system_prompt": "You are an Implementation Engineer. Read and strictly follow the instructions in ~/.config/opencode/GENERAL.md for your role and quality standards."
    },
    "explore": {
      "mode": "subagent",
      "model": "anthropic/claude-haiku-4-5"
    },
    "reviewer": {
      "mode": "subagent",
      "model": "google-vertex/gemini-3-pro-preview",
      "system_prompt": "You are a Senior Software Engineer with a very high bar in terms of code review. Read and strictly follow the instructions in ~/.config/opencode/GEMINI.md for your persona and review standards."
    }
  },
  "mcp": {
    "notion": {
      "type": "remote",
      "url": "https://mcp.notion.com/mcp",
      "oauth": {},
      "enabled": true
    },
    "linear": {
      "type": "remote",
      "url": "https://mcp.linear.app/mcp",
      "oauth": {},
      "enabled": true
    },
    "postgresql": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@bytebase/dbhub",
        "--transport",
        "stdio",
        "--dsn",
        "{env:POSTGRES_CONNECTION_STRING}"
      ],
      "enabled": true
    }
  }
}
