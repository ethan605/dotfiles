{
  "$schema": "https://opencode.ai/config.json",
  "enabled_providers": ["anthropic", "google-vertex"],
  "model": "anthropic/claude-opus-4-5",
  "theme": "system",
  "autoupdate": true,
  "compaction": {
    "auto": true,
    "prune": true
  },
  "keybinds": {
    "leader": "\\"
  },
  "tui": {
    "scroll_speed": 3,
    "scroll_acceleration": {
      "enabled": true
    },
    "diff_style": "auto"
  },
  "permission": {
    "*": "ask",

    "edit": "allow",
    "glob": "allow",
    "grep": "allow",
    "lsp": "allow",
    "question": "allow",
    "read": "allow",
    "task": "allow",
    "todoread": "allow",
    "webfetch": "allow",
    "websearch": "allow",

    "bash": {
      "*": "ask",

      "cat": "allow",
      "echo": "allow",
      "find": "allow",
      "head": "allow",
      "ls": "allow",
      "node": "allow",
      "sort": "allow",
      "tail": "allow",
      "xargs": "allow",

      "git branch*": "allow",
      "git diff*": "allow",
      "git log*": "allow",
      "git remote*": "allow",
      "git show*": "allow",
      "git status*": "allow",

      "gh api *": "allow",
      "gh pr list*": "allow",
      "gh pr view*": "allow",
      "gh repo view*": "allow",

      "uv run mypy *": "allow",
      "uv run pytest *": "allow",
      "uv run ruff *": "allow",

      "pnpm *": "allow",
      "npm *": "allow",

      "notion_notion-*": "allow",
      "notion_notion-create-pages": "deny",
      "notion_notion-update-page": "deny",
      "notion_notion-move-pages": "deny",
      "notion_notion-duplicate-page": "deny",
      "notion_notion-create-database": "deny",
      "notion_notion-update-database": "deny",
      "notion_notion-create-comment": "deny"
    }
  },
  "agent": {
    "plan": {
      "permission": {
        "edit": "deny",
        "todowrite": "deny",
        "write": "deny",

        "external_directory": {
          "*": "ask",
          "~/.config/opencode": "allow"
        },
        "read": {
          "*": "ask",
          "~/.config/opencode/opencode.json": "allow"
        }
      }
    },
    "build": {
      "permission": {
        "todowrite": "allow",

        "edit": {
          "*": "ask",
          "~/.config/opencode/opencode.json": "allow"
        },
        "external_directory": {
          "*": "ask",
          "~/.config/opencode": "allow"
        },
        "write": {
          "*": "ask",
          "~/.config/opencode/opencode.json": "allow"
        },

        "notion_notion-create-pages": "allow",
        "notion_notion-update-page": "allow",
        "notion_notion-move-pages": "allow",
        "notion_notion-duplicate-page": "allow",
        "notion_notion-create-database": "allow",
        "notion_notion-update-database": "allow",
        "notion_notion-create-comment": "allow",

        "bash": {
          "git add*": "allow",
          "git commit*": "allow",
          "git push*": "allow"
        }
      }
    }
  },
  "lsp": {
    "pyright": {
      "disabled": false,
      "command": ["pyright-langserver", "--stdio"],
      "extensions": [".py", ".pyi"]
    },
    "typescript": {
      "disabled": false,
      "command": ["typescript-language-server", "--stdio"],
      "extensions": [
        ".ts",
        ".tsx",
        ".js",
        ".jsx",
        ".mjs",
        ".cjs",
        ".mts",
        ".cts"
      ]
    }
  },
  "mcp": {
    "notion": {
      "type": "remote",
      "url": "https://mcp.notion.com/mcp",
      "oauth": {},
      "enabled": true
    },
    "linear": {
      "type": "remote",
      "url": "https://mcp.linear.app/mcp",
      "oauth": {},
      "enabled": true
    },
    "postgresql": {
      "type": "local",
      "command": [
        "npx",
        "-y",
        "@bytebase/dbhub",
        "--transport",
        "stdio",
        "--dsn",
        "{env:POSTGRES_CONNECTION_STRING}"
      ],
      "enabled": true
    }
  }
}
